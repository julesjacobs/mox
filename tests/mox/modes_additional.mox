(* pair with stricter modes on both sides *)
(((unit, unit), unit) : ((unit *[unique global] unit) *[unique global] unit))
> ((unit *[u=unique a=global r=r2] unit) *[u=unique a=global r=r1] unit)
> mode vars
>   r1 ∈ [0, inf]
>   r2 ∈ [0, inf]
> mode rels
>   r1-r2 <= 0

(* sum distributing modes across branches *)
(((left(unit)), (left(unit))) : ((unit +[unique global] empty) * (unit +[unique global] empty)))
> error: mode solver detected uniqueness inconsistency

(* nested arrow with modes *)
((fun f => fun x => f (fun y => x))
 : ((unit ->[global once portable] unit) ->[global once portable] (unit ->[global once portable] unit)))
> error: type mismatch between ('b -> 'a) and unit

(* invalid pair: areality violation *)
(((unit, unit), unit) : ((unit *[unique borrowed] unit) *[unique global] unit))
> error: mode solver detected areality inconsistency

(* invalid sum: uniqueness violation across branches *)
(((left(unit)), (right(unit))) : ((unit +[unique global] empty) *[aliased] (unit +[aliased global] unit)))
> error: mode solver detected uniqueness inconsistency
