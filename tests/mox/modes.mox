(* mode inference on pairs and sums *)
((unit, (unit, unit)) : (unit *[unique local] (unit * unit)))
> (unit *[unique local] (unit * unit))

(((left(unit)), (right(unit))) : ((unit +[unique local] empty) * (unit +[unique local] unit)))
> error: Mode unique contended local portable exceeds allowed once

(* arrow annotations roundtrip *)
((fun f => f) : ((unit ->[local once portable] unit) -> (unit ->[local once portable] unit)))
> ((unit ->[local once portable] unit) -> (unit ->[local once portable] unit))

(* redundant mode annotation *)
((unit, unit) : (unit *[global] unit))
> (unit * unit)

(* violation: arrow modes stronger than implementation *)
((fun f => f) : ((unit ->[local once] unit) -> (unit ->[local once portable] unit)))
> error: (unit ->[local once] unit) is not a subtype of (unit ->[local once portable] unit)
