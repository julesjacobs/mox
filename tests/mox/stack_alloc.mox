$(unit, unit)
> (unit *[u=u1 a=local] unit)
> mode vars
>   u1 ∈ {aliased, unique}

$left(unit)
> (unit +[u=u1 a=local] ?438)
> mode vars
>   u1 ∈ {aliased, unique}

$fun x => x
> (?439 ->[a=local l=l1 p=p1] ?439)
> mode vars
>   p1 ∈ {non-portable, portable}
>   l1 ∈ {many, never, once}

region unit
> unit

region $(unit, unit)
> error: relation became empty

region
  let x = $(unit, unit) in
  let (a,b) = x in a
> unit

region
  let x = $(unit, unit) in
  let (a,b) = x in (unit, unit)
> (unit *[u=u1 a=a1] unit)
> mode vars
>   a1 ∈ {global, local, regional}
>   u1 ∈ {aliased, unique}

region
  let x = $(unit, unit) in
  let y = (x, x) in y
> error: relation became empty

region
  let x = $(unit, unit) in
  let y = (x, x) in y
> error: relation became empty

region
  let a = (unit, unit) in 
  let x = $(a, unit) in
  let y = (x, x) in 
  let (z,w) = y in
  let (e,f) = z in e
> (unit *[u=u1 a=a1] unit)
> mode vars
>   a1 ∈ {global, local, regional}
>   u1 ∈ {aliased, unique}

(* CR jujacobs: bug! *)
let a = (region
  let x = $(unit, unit) in
  fun y => x) 
in a unit
> (unit *[u=u1 a=a1] unit)
> mode vars
>   a1 ∈ {global, local, regional}
>   u1 ∈ {aliased, unique}

let unique_pair = ((unit, unit) : (unit *[unique local] unit)) in
let! (x, y) = unique_pair in
x
> unit

let unique_sum = ((left(unit)) : (unit +[unique local] unit)) in
match! unique_sum with left(x) => x | right(y) => y
> unit

let p = (unit, unit) in
let q = (p,p) in
let! (x,y) = p in x
> error: relation became empty

let p = (unit, unit) in
let q = (p,p) in
let! (x,y) = q in 
let (a,b) = x in a
> unit

let p = (unit, unit) in
let q = (p,p) in
let! (x,y) = q in 
let! (a,b) = x in a
> error: relation became empty
